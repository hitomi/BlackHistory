<html>
    <head>
        <meta charset="utf-8">
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href="style/animate.css" rel="stylesheet">
        <link rel="stylesheet" href="style/bootstrap.css" rel="stylesheet">
        <link rel="stylesheet" href="style/icomoon.css" rel="stylesheet">
        <title>Smile琉璃梦坊</title>
        <style>
            * {font-family: "Microsoft YaHei","WenQuanYi Micro Hei","Droid Sans Fallback","DejaVu Sans","WenQuanYi Zen Hei",arial,sans-serif;}
            .body {
                height: 100%;
                width: 100%;
            }
            .full-height {
                height: 100%;
            }
            .nav-bg {
                background: url(image/bg2.jpg);
                background-repeat: no-repeat;
                background-size: 100% 100%;
                
                width:328px;
            }
            .fff {
                background: #fff;
            }
            .acgn-ls {
                font-weight: bold;
                color: #fff;
                font-size: 14px;
                padding:0 8px 0 8px;
            }
            .nav-bar {
                width: 100%;
                height: 64px;
                background: #744638;
                position: absolute;
                left: 0;
                top: 0;
            }
            .no-panties {
                padding: 0px;
            }

            .main-container {
                overflow: hidden;
                overflow-x: scroll;
            }
            ::-webkit-scrollbar {
                height: 8px;
                width: 8px;
                background: rgba(222,222,222,0.5);
                transition: all .3s ease-in-out;
                border-radius: 5px;
            }
            ::-webkit-scrollbar-thumb {
                width: 8px;
                min-height: 15px;
                background: rgba(0,0,0,0.3);
                transition: all .3s ease-in-out;
                border-radius: 5px;
            }
            ::-webkit-scrollbar-button {
                display: none;
            }
            ::-webkit-scrollbar-track {
                background-color: #fff;
            }
            ::-webkit-scrollbar-track-piece {
                background: #fff;
            }
            
            .ruri-logo {
                background: url(image/ruri-logo.png);
                height: 65px;
                width: 214px;
                
                position: absolute;
                left: 50%;
                margin-left: -107px;
                bottom: 5%;
            }
            
            .user-action {
                width: 100%;
                height: 168px;
                
                background: rgba(0,0,0,.8);
            }
            
            .v-cover {
                position: fixed;
                width: 100%;
                height: 100%;
                background: #000;
                padding-right: 328px;
            }
            
            .v-cover-title {
                position: absolute;
                right: 344px;
                bottom: 102px;
                font-size: 3em;
                color: #fff;
                text-shadow: #003 0px 0px 6px;
                text-align: right;
            }
            
            .v-title {
                height: 86px;
                background: #00A3D9;
                position: relative;
                top: -86px;
            }
            
            .v-container {
               height: 3000px;
            }
            
            .nav-user {
                padding: 12px;
                height: 88px;
            }
            
            .nav-action {
                padding: 12px;
                height: 64px;
            }
            
            .u-head {
                height: 64px;
                width: 64px;
                
            }
            .u-head img {
                height: 64px;
                width: 64px;
                border-radius: 50%;
                box-shadow: 0px 0px 10px #000;
            }
            
            .u-info {
                width: 210px;
                height: 64px;
                position: absolute;
                top: 12px;
                left: 96px;
                color: #fff;
            }
            
            .u-info p {
                line-height: 14px;
                font-size: 13px;
                color: #fff;
            }
            
            .u-info-top {
                margin-top: 10px;
                height: 16px;
            }
            
            .u-info-bottom {
                margin-top: 8px;
            }
            
            .u-info-inbox {
                float:right;
                cursor: pointer;
            }
            .u-info-inbox:hover {
                color: #FF7F00;
            }
            
            .nav-action>ul>li {
                color: #fff;
                width: 74px;
                float: left;
                height: 64px;
                text-align: center;
                cursor: pointer;
            }
            
            .nav-action>ul>li:hover {
                color: #FF7F00;
            }
            
            .nav-action>ul>li>span{
                font-size:26px;
            }
            
            .v-title-u-head {
                width: 180px;
                height: 180px;
                padding: 4px;
                background: #fff;
                position: relative;
                left: 72px;
                top: -172px;
            }
            
            .v-title-u-head img {
                height: 172px;
                width: 172px;
            }
            
            .v-title-u-name {
                position: relative;
                height: 36px;
                left: 272px;
                font-size: 24px;
                font-weight: bold;
                top: -224px;
                color: #fff;
                padding-right: 284px;
            }
            
            .v-title-info {
                font-size: 14px;
                font-weight: normal;
            }
            
            .v-title-u-rate {
                position: relative;
                line-height: 86px;
                top: -280px;
                right: 16px;
                color: #fff;
                font-size: 54px;
                float: right;
            }
            
            .v-title-u-rate span{
                font-size: 20px;
                position: relative;
                top: -6px;
                left: -6px;
            }
            
            .v-title-u-follow {
                position: relative;
                height: 64px;
                width: 64px;
                color: #fff;
                left: 5px;
                top: 18px;
                text-align: center;
                cursor: pointer;
            }
            
            .v-title-u-follow:hover {
                text-shadow: #F00 0 0 11px;
            }
        </style>
    </head>
    <body style="padding-left:328px;overflow-x: hidden;">
        <div class="container-fluid full-height" style="padding:0px;overflow-x: hidden;">
            <div class="full-height nav-bg no-panties" style="position:fixed;left:0;top:0;">
                <div class="user-action">
                    <div class="nav-user">
                        <div class="u-head"><img src="image/u-head-1.png"></div>
                        <div class="u-info">
                            <div class="u-info-top">
                                <div style="float:left;">Lynn°</div>
                                <div class="u-info-inbox"><span class="glyphicon glyphicon-inbox"></span><span style="padding-left:4px;">(5)</span></div>
                            </div>
                            <div class="u-info-bottom">
                                正在填5个坑，完坑率约为 2.33%
                            </div>
                        </div>
                    </div>
                    <div class="nav-action">
                        <ul class="no-panties" style="list-style:none;">
                            <li><span class="icon-map"></span><div style="margin-top: 8px;">广场</div></li>
                            <li><span class="icon-stack"></span><div style="margin-top: 8px;">工地</div></li>
                            <li><span class="icon-bookmarks"></span><div style="margin-top: 8px;">收藏</div></li>
                            <li><span class="icon-settings"></span><div style="margin-top: 8px;">设置</div></li>
                        </ul>
                    </div>
                </div>
                <div class="ruri-logo"></div>
            </div>
            <div class="full-height no-panties v-main" style="width:100%;background-color:#fff;overflow-y: hidden;">
                <div class="v-cover" data-ibg-bg="image/cover-1.jpg" style="overflow: hidden;top: 0px;">
                    <div class="v-cover-title">
                        【混合系MAD】</br>因为有你-漆黑的子弹完结纪念
                    </div>
                    <div class="v-title">
                        <div class="v-title-u-follow"><span class="icon-heart2" style="font-size: 24px;"></span><div style="margin-top: 8px;">关注</div></div>
                        <div class="v-title-u-head">
                            <img src="image/u-head-2-large.jpg">
                        </div>
                        <div class="v-title-u-name"><div style="font-size: 14px;height: 16px;">坑主</div>千枼草_阑小逝<span class="v-title-info">，完坑率52.33%</span></div>
                        <div class="v-title-u-rate"><span>完成度</span>100%</div>
                    </div>
                </div>
                <div class="v-container">
                    <section id="main_content" class="inner">
                            <h1>以下内容只是为了测试滚动条…</h1>

                            <ul><li>展示业务过程中的提示消息</li><li>支持AJAX请求，并且支持进度、成功或错误提示</li><li>在所展示消息内还可加入指向动作的链接</li><li>压缩之后仅有 2.5kb </li></ul>

                    <h2>依赖</h2>

                    <ul>
                    <li>jQuery</li>
                    <li>Backbone.js</li>
                    <li>可以和Bootstrap完美融合，但Bootstrap并不是必须的</li></ul>

                    <h2>包含</h2>

                    <h3>JS文件</h3>

                    <pre><code>/build/js/messenger.min.js
                    </code></pre>

                    <h3>CSS文件</h3>

                    <pre><code>/build/css/messenger.css
                    /build/css/messenger-theme-future.css
                    </code></pre>

                    <h2>案例展示</h2>
                    <pre><code executable="">
                    # Replace:
                    $.ajax
                        url: "/some-url"
                        success: -&gt;

                    # With:
                    $.globalMessenger().do
                        errorMessage: "This did not go well."
                    ,
                        url: "/some-url"
                        success: -&gt;
                    </code>
                    </pre>
                    <h2>使用手册 <span class="subtitle">下面的代码都是可编辑的</span></h2>
                    <div class="controls">
                      <div>
                        <h4>改变弹框方位</h4>
                        <div class="location-selector"></div>
                      </div>
                      <div>
                        <h4>改变弹框主题</h4>
                        <ul class="theme-selector"></ul>
                      </div>
                      <div>
                        <h4>改变编码语言</h4>
                        <ul class="selector">
                          <li class="executr-switch" data-code-type="javascript">JavaScript</li>
                          <li class="executr-switch" data-code-type="coffeescript">CoffeeScript</li>
                        </ul>
                      </div>
                      <hr class="clear">
                      <pre><code><output></output></code></pre>
                    </div>
                    <pre><code executable="">
                    $.globalMessenger().post "Your request has succeded!"
                    </code><code executable="">
                    $.globalMessenger().post
                        message: 'There was an explosion while processing your request.'
                        type: 'error'
                        showCloseButton: true
                    </code><code executable="">
                    msg = $.globalMessenger().post "My Message"
                    msg.update "I changed my mind, this is my message"
                    msg.hide()
                    </code><code executable="">
                    # Want to put actions at the end of your messages?
                    msg = $.globalMessenger().post
                        message: 'Launching thermonuclear war...'
                        type: 'info'
                        actions:
                            cancel:
                                label: 'cancel launch'
                                action: -&gt;
                                    msg.update
                                        message: 'Thermonuclear war averted'
                                        type: 'success'
                                        actions: false
                    </code><code executable="">
                    # This guy will 500 a few times, then succeed
                    i = 0
                    $.globalMessenger().do
                      errorMessage: 'Error destroying alien planet'
                      successMessage: 'Alien planet destroyed!'

                      action: (opts) -&gt;
                        if (++i &lt; 3)
                          opts.error({status: 500, readyState: 0, responseText: 0})
                        else
                          opts.success()

                    </code><code executable="">
                    # Have an error? How about auto retrys with a Gmail-style countdown
                    # (hidden in the future theme)?:
                    msg = $.globalMessenger().post
                        message: "I'm sorry Hal, I just can't do that."
                        actions:
                            retry:
                                label: 'retry now'
                                phrase: 'Retrying TIME'
                                auto: true
                                delay: 10
                                action: -&gt;
                                    # Do some retrying...

                            cancel:
                                action: -&gt;
                                    do msg.cancel
                    </code><code executable="">
                    # You can bind to action events as well:
                    msg.on 'action:retry', -&gt;
                        alert('Hey, you retried!')
                    </code><code executable="">
                    # Need more control? You can bind events backbone-style based
                    # on the type of message.
                    msg.update
                        events:
                            'success click': -&gt;
                                # Will fire when the user clicks the message
                                # in a success state.

                            'error click a.awesome-class': -&gt;
                                # Rock on
                    </code><code executable="">
                    # Need your message to hide after a while, or when the Backbone
                    # router changes the page?
                    $.globalMessenger().post
                        message: "Weeeeee"

                        hideAfter: 10
                        hideOnNavigate: true
                    </code><code executable="">
                    # You can use the id property to ensure that only one
                    # instance of a message will appear on the page at a time
                    # (the older message will be hidden).
                    $.globalMessenger().post
                      message: "Only one at a time!"
                      id: "Only-one-message"
                    </code><code executable="">
                    # When you add the singleton attribute, it ensures that no
                    # other messages with that id will ever be shown again
                    # (the newer message will be hidden).
                    $.globalMessenger().post
                      message: "It's just me!"
                      id: '4'
                      singleton: true

                    $.globalMessenger().post
                      message: "You'll never see me"
                      id: '4'
                      singleton: true
                    </code><code executable="">
                    # Rather than hiding and showing multiple messages
                    # you can also maintain a single message between
                    # requests.
                    msg = $.globalMessenger().do()
                    $.globalMessenger().do({messageInstance: msg})
                    </code><code executable="">
                    # Don't want your message hidden on a long page? (Not necessary
                    # if you're using the default fixed positioning)
                    msg = $.globalMessenger().post
                        message: "You'll see me!"

                        scrollTo: true
                        # Requires jQuery scrollTo plugin
                    </code><code executable="">
                    msg.scrollTo() # also works
                    </code><code executable="">
                    # Lazy/smart? How about messenger does it all for you?  All the
                    # retry magic comes with.
                    $.globalMessenger().do
                        successMessage: 'Data saved.'
                        errorMessage: 'Error saving data'
                        progressMessage: 'Saving data' # Don't include messages you
                                                       # don't want to appear.

                        # Any standard message opts can go here
                    ,
                        # All the standard jQuery ajax options here

                        url: '/data'
                    </code><code executable="">
                    # Need to override the messages based on the response?
                    $.globalMessenger().do
                        errorMessage: 'Oops'
                    ,
                        url: '/data'
                        error: (xhr) -&gt;
                            # Whatever you return from your handlers will replace
                            # the default messages

                            if xhr?.status is 404
                                return "Data not found"

                            # Return true or undefined for your predefined message
                            # Return false to not show any message

                            return true
                    </code><code executable="">
                    # Sometimes you only want to show the success message when a
                    # retry succeeds, not if a retry wasen't required:
                    $.globalMessenger().do
                        successMessage: 'Successfully saved.'
                        errorMessage: 'Error saving'

                        showSuccessWithoutError: false
                    ,
                        url: '/data'
                    </code><code executable="">
                    # You don't have to use $.ajax as your action, messenger works
                    # great for any async process:
                    $.globalMessenger().do
                        successMessage: 'Bomb defused successfully'

                        action: defuseBomb
                        # You can put options for defuseBomb here
                        # It will be passed success and error callbacks
                    </code><code executable="">
                    # Need to hide all messages?
                    $.globalMessenger().hideAll()
                    </code><code executable="">
                    # If your action responds with a promise-like thing, its
                    # methods will be copied onto the message:

                    $.globalMessenger().do({}, {url: 'a'}).fail(-&gt; alert "Uh oh")
                    </code><code executable="">
                    # Do you use Backbone? Hook all backbone calls:
                    $.globalMessenger().hookBackboneAjax()

                    # By default, there will be no error message (just background
                    # retries), return an error message from your backbone error handler,
                    # or add an errorMessage to the messenger opts to set one.
                    # You can override these options by passing them into
                    # hookBackboneAjax, or adding a {'messenger': } hash to your
                    # fetch call.
                    </code><code executable="">
                    # You don't have to use the global messenger
                    $('div#message-container').messenger().post "My message"
                    </code><code executable="">
                    # By default, the global messenger will create an ActionMessenger
                    # instance fixed to the bottom-right corner of the screen.
                    </code><code executable="">
                    # You can pass an instance of messenger into globalMessenger
                    # to override the default position.
                    myAwesomeMessenger = $('.mess').messenger()
                    $.globalMessenger({instance: myAwesomeMessenger});

                    $.globalMessenger() # &lt;-- Will return your messenger
                    </code><code executable="">
                    $.globalMessenger({'parentLocations': ['.page', 'body']});
                    # Will try to insert the messenger into the el matching
                    # .page before inserting it into the page.

                    # This can be important if you're not using fixed positioning.
                    </code><code executable="">
                    # All the options for globalMessenger and their defaults:

                    {
                      'parentLocations': ['body'],
                      'maxMessages': 9,
                      'extraClasses': 'messenger-fixed messenger-on-right messenger-on-bottom messenger-theme-future',
                      'instance': undefined,
                      'messageDefaults': {
                        # Default message options
                      }
                    }
                    </code><code executable="">
                    # You can also set default options on the $._messengerDefaults object.
                    $._messengerDefaults = {'extraClasses': 'messenger-fixed messenger-on-left'}
                    </code>
                    </pre>

                    <h1>Contributing</h1>

                    <p>We welcome contributors!</p>
                    <p>
                    The build process requires nodejs and <a href="http://gruntjs.com/getting-started" target="_blank">grunt-cli</a>.
                    You can build the output files by running <code>grunt</code>.
                    The automated tests can be run by opening SpecRunner.html in a browser.
                    </p>
                    </section>
                </div>
            </div>
        </div>
        <script src="./js/jquery.js"></script>
        <script src="./js/bootstrap.js"></script>
        <script src="./js/jquery.mousewheel.js"></script>
        <script src="./js/jquery.interactive_bg.js"></script>
        <script>
            $('.v-cover').interactive_bg();
            $(window).resize(function() {
                $('.v-cover .ibg-bg').css({height: $('.v-cover').height(), width: $('.v-cover').width()});
            });
            
            $('body').css({
                paddingTop: $(window).height()+'px'
            });
            
            $(document).on('mousewheel', function(event) {
                if ($('.v-main').scrollTop()!==0) return;
                if ($('.v-cover').height()-100<250 && event.deltaY<0) {
                    $('.v-cover').height(250);
                    $('.v-cover .ibg-bg').css({height: $('.v-cover').height(), width: $('.v-cover').width()});
                    $('.v-cover .ibg-bg').stop();
                    $('.v-cover .ibg-bg').animate({backgroundPositionY: '20%'},'slow');
                    $('.v-main').css({
                        overflowY: 'scroll'
                    });
                    $('body').css({
                        paddingTop: '250px'
                    });
                    return;
                }
                if ($('.v-cover').height()+100>$(window).height() && event.deltaY>0) {
                    $('.v-cover').css({height: '100%'});
                    $('.v-cover .ibg-bg').css({height: $('.v-cover').height(), width: $('.v-cover').width()});
                    $('.v-cover .ibg-bg').stop();
                    $('.v-cover .ibg-bg').animate({backgroundPositionY: '50%'},'slow');
                    $('.v-main').css({
                        overflowY: 'hidden'
                    });
                    $('body').css({
                        paddingTop: $(window).height()+'px'
                    });
                    return;
                }
                $('.v-cover').height($('.v-cover').height()+(event.deltaY*100));
                $('.v-cover .ibg-bg').css({height: $('.v-cover').height(), width: $('.v-cover').width()});
                $('body').css({
                    paddingTop: (parseInt($('body').css('paddingTop').replace('px',''),10)+(event.deltaY*100))+'px'
                });
                $('.v-main').css({
                    overflowY: 'hidden'
                });
            });
        </script>
    </body>
</html>